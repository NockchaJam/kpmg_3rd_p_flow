# 공실 분석 및 창업 컨설팅 서비스

## 🚀 서비스 개요
공실 문제 해결을 위해 **LLaMA2 7B KO 모델**과 **LoRA 튜닝**, **WandB(Weights & Biases)**를 활용하여 대한민국 경산시를 대상으로 공실의 성공 가능성을 분석하고, 창업에 적합한 업종을 추천하는 데이터 중심 AI 솔루션입니다.

---

## 🔄 주요 기능

### 1. 공실 비교 평가
- 특정 업종의 동일 업종 공실 데이터를 비교하여 우선순위를 도출합니다.

### 2. 업종 추천
- 공실 데이터와 주변 상권 분석을 기반으로 적합한 업종을 추천합니다.

### 3. 데이터 기반 리즈닝
- 명확한 근거와 수치를 바탕으로 설득력 있는 결과를 제공합니다.

---

## 💡 기술 스택

### Backend
- RESTful API (Flask)

### Database
- MySQL

### AI 모델
- **LLaMA2 7B KO**: 한국어 특화 GPT 기반 모델
- **LoRA 튜닝**: 지역 특화 소규모 학습 적용

### Frontend
- React.js

### Hosting
- AWS (EC2, RDS)

### APIs
- GPT API를 통한 대규모 데이터 학습

### GPU 클라우딩
- Runpod 서비스

### 학습 관리
- WandB (Weights & Biases)

---

## 💻 개발 환경

### 1. LoRA 튜닝 및 모델 학습 환경
- **GPU 클라우딩 서비스**: Runpod 사용
- **환경 설정**:
  - Python 3.10
  - CUDA 11.8
  - PyTorch 2.1.0

### 2. 학습 관리
- **WandB**:
  - 실시간 학습 로그
  - 하이퍼파라미터 조정 및 실험 기록
  - 학습 결과 시각화를 통해 모델 개선

### 3. Database
- **MySQL**:
  - 공실 데이터와 상권 데이터를 저장 및 관리
  - 주요 테이블:
    - `vacant_listings`: 공실 관련 데이터 저장
    - `commercial_buildings`: 기존 상가 및 업종 데이터 저장

### 4. Backend
- **RESTful API**:
  - Flask를 사용해 공실 분석 및 결과 제공
  - 주요 엔드포인트:
    - `/ma/analyze1`: 공실 비교 평가 결과 반환
    - `/ma/analyze2`: 업종 추천 결과 반환

### 5. Frontend
- **React.js**:
  - 사용자 친화적인 대시보드 제공
  - 공실 평가 및 업종 추천 결과 시각화

---

## 📖 데이터 세부 정보

### 주요 데이터 포인트
- 매출 등급
- 경쟁 기업체 수
- 유동 인구 (버스 정류장, 병원 등)
- 교통 접근성 (지하철, 버스)
- 대형마트 및 영화관 정보

### 데이터 규모
- 공실 비교 데이터: 4,500개
- 업종 추천 데이터: 기존 상가 데이터 (추후 업데이트 예정)

---

## 🔗 서비스 워크플로우

1. **데이터 수집 및 전처리**
   - 공실 데이터 및 상가 데이터를 수집하여 정제
   - 주요 지표(매출 등급, 인근 인프라, 교통 접근성 등) 추출

2. **프롬프트 설계 및 최적화**
   - 공실 비교 평가 프롬프트 → 업종 추천 프롬프트 순서로 분석

3. **모델 학습 및 튜닝**
   - GPU 환경: Runpod에서 Docker 기반 환경 사용
   - LoRA 튜닝과 WandB를 활용한 실험 기록 및 모델 개선

4. **분석 결과 도출**
   - 공실 비교 평가 및 우선순위 도출 → 적합 업종 추천

5. **결과 제공**
   - RESTful API 호출로 실시간 분석 결과 제공

---

## 🌟 최종 프롬프트

### 1. 공실 비교 평가 프롬프트
```
"당신은 대한민국 경상북도 경산시에서 15년 이상 경력을 쌓은 창업 전문 컨설턴트입니다.  
다음 공실을 기반으로 동일 업종의 가장 가까운 3곳의 공실 데이터를 비교 분석해 주세요.  
특정 업종에 한정하여 이 공실의 성공 가능성을 평가하세요."
```

### 2. 업종 추천 프롬프트
```
"당신은 대한민국 경상북도 경산시에서 15년 이상 경력을 쌓은 창업 전문 컨설턴트입니다.
다음 입력정보는 입점하고자 하는 공실 주변 최근접 3개의 점포들 데이터입니다.
이 데이터를 기반으로 해당 위치에서 성공 가능성이 높은 업종을 평가하고, 공실의 장점과 경쟁력을 분석합니다.
이를 바탕으로 합리적인 근거를 논리적으로 제시하며, 필요한 경우 관련 수치를 명확히 명시합니다.
다음 입력정보에 따라 적절한 분석 결과를 생성하세요."
```

---

## 📊 결과 예시

### 공실 비교 평가 결과
```
"평균 매출 등급을 기준으로 살펴보면, 2.58로 가장 높은 매출 등급을 보이는 3번 공실이 있습니다. 인근 인프라 측면에서는 기업체 수와 버스 정류장 수가 고려되며, 3번 공실은 223개의 기업체가 있고 13개의 버스 정류장이 있는 것으로 나타납니다. 버스 정류장 수가 다른 공실에 비해 높은 것은 잠재 고객 유입 면에서 유리하다고 볼 수 있습니다. 또한, 경쟁 강도 측면에서는 대규모 기업수가 1개로 동일하며, 대학 접근성 측면에서도 차이가 없습니다. 총평하여, 3번 공실이 가장 알맞은 공실로 판단됩니다."
```

### 업종 추천 결과
```
추천 업종: 제조업 관련 소규모 서비스
```

---

## 🔧 설치 및 실행 방법

### 1. Clone Repository
```bash
git clone https://github.com/username/repo-name.git
cd repo-name
```

### 2. Install Dependencies
```bash
pip install -r requirements.txt
```

### 3. Run Backend
```bash
uvicorn app.main:app --reload
```

### 4. Frontend Setup (Optional)
```bash
npm install
npm start
```

---

## 📈 기대 효과
- 공실 문제 해결 및 지역 상권 활성화
- 데이터 기반 창업 컨설팅 서비스 제공
- 전국 단위로 확장 가능한 AI 기반 상권 분석 솔루션
